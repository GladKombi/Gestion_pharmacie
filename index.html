<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>
        PharmaGest - Dashboard Pharmacie
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .material-symbols-rounded {
            opacity: 0.7;
        }
        
        /* Animation pour la sidebar mobile */
        .sidebar-mobile {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        
        .sidebar-mobile.open {
            transform: translateX(0);
        }
        
        /* Overlay pour mobile */
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 40;
        }
        
        .sidebar-overlay.open {
            display: block;
        }
        
        @media (min-width: 1024px) {
            .main-content {
                margin-left: 16rem;
            }
            .sidebar-mobile {
                transform: translateX(0);
            }
            .sidebar-overlay {
                display: none !important;
            }
        }
        
        /* Styles personnalisés pour la pharmacie - VERT */
        .pharma-primary {
            background: linear-gradient(135deg, #10b981, #047857);
        }
        
        .pharma-secondary {
            background: linear-gradient(135deg, #059669, #065f46);
        }
        
        .pharma-warning {
            background: linear-gradient(135deg, #d97706, #b45309);
        }
        
        .pharma-danger {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
        }
        
        .stock-low {
            background-color: #fef3c7;
            border-left: 4px solid #d97706;
        }
        
        .stock-critical {
            background-color: #fee2e2;
            border-left: 4px solid #dc2626;
        }
        
        .prescription-required {
            background-color: #d1fae5;
            border-left: 4px solid #10b981;
        }
        
        /* Hauteur fixe pour éviter le scroll excessif */
        .dashboard-container {
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }
        
        /* Styles pour les cartes compactes */
        .compact-card {
            padding: 1rem;
        }
        
        .compact-table {
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>

<body class="bg-gray-100">

    <!-- Overlay pour mobile -->
    <div id="sidebar-overlay" class="sidebar-overlay lg:hidden"></div>

    <!-- Sidebar -->
    <aside id="sidenav-main" class="fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-50 sidebar-mobile lg:translate-x-0">
        <div class="p-4 border-b border-gray-200 flex justify-between items-center">
            <a class="flex items-center space-x-2" href="#">
                <div class="w-8 h-8 pharma-primary rounded flex items-center justify-center">
                    <span class="text-white text-xs font-bold">PG</span>
                </div>
                <span class="text-sm font-semibold text-gray-900">PharmaGest</span>
            </a>
            <button id="close-sidebar" class="text-gray-500 lg:hidden">
                <i class="material-symbols-rounded">close</i>
            </button>
        </div>
        
        <div class="overflow-y-auto h-[calc(100%-10rem)] p-2">
            <ul class="space-y-1">
                <li class="p-1">
                    <a class="flex items-center p-2 text-sm font-semibold text-white pharma-primary rounded-lg shadow-md" href="#">
                        <i class="material-symbols-rounded text-base">dashboard</i>
                        <span class="ml-3">Tableau de Bord</span>
                    </a>
                </li>
                <li class="p-1">
                    <a class="flex items-center p-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg" href="#">
                        <i class="material-symbols-rounded text-base">inventory_2</i>
                        <span class="ml-3">Gestion des Stocks</span>
                    </a>
                </li>
                <li class="p-1">
                    <a class="flex items-center p-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg" href="#">
                        <i class="material-symbols-rounded text-base">shopping_cart</i>
                        <span class="ml-3">Ventes & Caisse</span>
                    </a>
                </li>
                <li class="p-1">
                    <a class="flex items-center p-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg" href="#">
                        <i class="material-symbols-rounded text-base">add_circle</i>
                        <span class="ml-3">Nouveaux Produits</span>
                    </a>
                </li>
            </ul>

            <h6 class="px-4 pt-3 mt-4 text-xs font-bold text-gray-500 uppercase">Rapports</h6>

            <ul class="space-y-1 mt-2">
                <li class="p-1">
                    <a class="flex items-center p-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg" href="#">
                        <i class="material-symbols-rounded text-base">bar_chart</i>
                        <span class="ml-3">Ventes & Performance</span>
                    </a>
                </li>
                <li class="p-1">
                    <a class="flex items-center p-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg" href="#">
                        <i class="material-symbols-rounded text-base">insights</i>
                        <span class="ml-3">Analyses des Stocks</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <div class="absolute bottom-0 w-full p-4 border-t border-gray-200 bg-white">
            <a class="block w-full text-center py-2 mb-2 text-sm font-semibold text-green-600 border border-green-600 rounded-lg hover:bg-green-50" href="#" type="button">Aide & Support</a>
            <a class="block w-full text-center py-2 text-sm font-semibold text-white pharma-primary rounded-lg hover:opacity-90" href="#" type="button">Paramètres</a>
        </div>
    </aside>
    
    <main class="main-content flex-grow w-full transition-all duration-300 p-4 lg:p-6 lg:ml-64">
        
        <nav class="bg-white shadow-md rounded-xl p-4 mb-4">
            <div class="flex justify-between items-center">
                <nav aria-label="breadcrumb">
                    <ol class="flex text-gray-500 text-sm">
                        <li><a href="#" class="opacity-80">Tableau de Bord</a></li>
                        <li class="px-2">/</li>
                        <li class="font-bold text-gray-800">Aperçu Pharmacie</li>
                    </ol>
                </nav>

                <div class="flex items-center space-x-4">
                    <div class="relative hidden sm:block">
                        <input type="text" placeholder="Rechercher un médicament..." class="py-2 pl-4 pr-10 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                    </div>

                    <a href="#" class="text-gray-600 hover:text-gray-900 relative">
                        <i class="material-symbols-rounded text-lg">notifications</i>
                        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">5</span>
                    </a>
                    <a href="#" class="hidden sm:flex items-center text-sm font-bold text-gray-900">
                         <i class="material-symbols-rounded text-lg mr-1">account_circle</i>
                         <span>Pharmacien</span>
                    </a>

                    <button id="toggle-sidebar" class="text-gray-600 hover:text-gray-900 lg:hidden">
                         <i class="material-symbols-rounded text-lg">menu</i>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Contenu principal avec hauteur limitée -->
        <div class="dashboard-container">
            <div class="mb-4">
                <h3 class="text-xl font-extrabold text-gray-900">Tableau de Bord PharmaGest</h3>
                <p class="text-gray-500 text-sm">
                    Aperçu de votre pharmacie - Données en temps réel
                </p>
            </div>

            <!-- Alertes importantes -->
            <div class="mb-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                <div class="stock-low p-3 rounded-lg flex items-center">
                    <div class="mr-3 text-yellow-600">
                        <i class="material-symbols-rounded text-xl">warning</i>
                    </div>
                    <div>
                        <h4 class="font-bold text-gray-800 text-sm">Stock Faible</h4>
                        <p class="text-xs text-gray-600">12 produits</p>
                    </div>
                </div>
                
                <div class="stock-critical p-3 rounded-lg flex items-center">
                    <div class="mr-3 text-red-600">
                        <i class="material-symbols-rounded text-xl">error</i>
                    </div>
                    <div>
                        <h4 class="font-bold text-gray-800 text-sm">Stock Critique</h4>
                        <p class="text-xs text-gray-600">5 produits</p>
                    </div>
                </div>
                
                <div class="prescription-required p-3 rounded-lg flex items-center">
                    <div class="mr-3 text-green-600">
                        <i class="material-symbols-rounded text-xl">description</i>
                    </div>
                    <div>
                        <h4 class="font-bold text-gray-800 text-sm">Ordonnances</h4>
                        <p class="text-xs text-gray-600">3 en attente</p>
                    </div>
                </div>
            </div>

            <!-- Cartes de statistiques compactes -->
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                <div class="bg-white shadow-md rounded-xl compact-card">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="text-xs text-gray-500 capitalize">CA du Jour</p>
                            <h4 class="text-xl font-bold text-gray-900">2,845€</h4>
                        </div>
                        <div class="p-2 pharma-primary text-white rounded-lg">
                            <i class="material-symbols-rounded text-lg">euro</i>
                        </div>
                    </div>
                    <p class="text-xs mt-2">
                        <span class="text-green-500 font-bold">+12% </span>vs hier
                    </p>
                </div>

                <div class="bg-white shadow-md rounded-xl compact-card">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="text-xs text-gray-500 capitalize">Produits Vendus</p>
                            <h4 class="text-xl font-bold text-gray-900">147</h4>
                        </div>
                        <div class="p-2 pharma-secondary text-white rounded-lg">
                            <i class="material-symbols-rounded text-lg">local_pharmacy</i>
                        </div>
                    </div>
                    <p class="text-xs mt-2">
                        <span class="text-green-500 font-bold">+8% </span>vs hier
                    </p>
                </div>
                
                <div class="bg-white shadow-md rounded-xl compact-card">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="text-xs text-gray-500 capitalize">Stock Total</p>
                            <h4 class="text-xl font-bold text-gray-900">2,347</h4>
                        </div>
                        <div class="p-2 pharma-warning text-white rounded-lg">
                            <i class="material-symbols-rounded text-lg">inventory</i>
                        </div>
                    </div>
                    <p class="text-xs mt-2">
                        <span class="text-red-500 font-bold">-3% </span>semaine
                    </p>
                </div>

                <div class="bg-white shadow-md rounded-xl compact-card">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="text-xs text-gray-500 capitalize">Clients</p>
                            <h4 class="text-xl font-bold text-gray-900">68</h4>
                        </div>
                        <div class="p-2 pharma-danger text-white rounded-lg">
                            <i class="material-symbols-rounded text-lg">groups</i>
                        </div>
                    </div>
                    <p class="text-xs mt-2">
                        <span class="text-green-500 font-bold">+5% </span>vs hier
                    </p>
                </div>
            </div>

            <!-- Graphique et tableau côte à côte -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4">
                <!-- Graphique simplifié -->
                <div class="bg-white shadow-md rounded-xl p-4">
                    <h6 class="text-base font-semibold text-gray-900 mb-2">Ventes 7 derniers jours</h6>
                    <div class="h-48 bg-gradient-to-br from-green-50 to-green-100 rounded-lg flex items-center justify-center border border-green-200">
                        <div class="text-center">
                            <div class="text-green-600 font-bold">Graphique des Ventes</div>
                            <div class="text-green-500 text-sm mt-1">Visualisation des données</div>
                        </div>
                    </div>
                </div>

                <!-- Produits populaires -->
                <div class="bg-white shadow-md rounded-xl p-4">
                    <h6 class="text-base font-semibold text-gray-900 mb-2">Produits Populaires</h6>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <div class="w-6 h-6 bg-green-100 rounded flex items-center justify-center mr-2">
                                    <span class="text-green-600 text-xs">DP</span>
                                </div>
                                <span class="text-sm">Doliprane 1000mg</span>
                            </div>
                            <span class="text-sm font-bold text-gray-700">42 ventes</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <div class="w-6 h-6 bg-blue-100 rounded flex items-center justify-center mr-2">
                                    <span class="text-blue-600 text-xs">SM</span>
                                </div>
                                <span class="text-sm">Smecta</span>
                            </div>
                            <span class="text-sm font-bold text-gray-700">38 ventes</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <div class="w-6 h-6 bg-purple-100 rounded flex items-center justify-center mr-2">
                                    <span class="text-purple-600 text-xs">SP</span>
                                </div>
                                <span class="text-sm">Spasfon</span>
                            </div>
                            <span class="text-sm font-bold text-gray-700">35 ventes</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tableau des stocks critiques compact -->
            <div class="bg-white shadow-md rounded-xl p-4 mb-4">
                <div class="flex justify-between items-center mb-3">
                    <div>
                        <h6 class="text-base font-semibold text-gray-900">Stocks à Réapprovisionner</h6>
                        <p class="text-xs text-gray-500">Produits avec stock faible ou critique</p>
                    </div>
                    <button class="px-3 py-1 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 flex items-center">
                        <i class="material-symbols-rounded text-sm mr-1">local_shipping</i>
                        Commander
                    </button>
                </div>
                
                <div class="compact-table">
                    <table class="min-w-full divide-y divide-gray-200 text-sm">
                        <thead>
                            <tr>
                                <th class="px-3 py-2 text-left text-xs font-bold text-gray-500 uppercase">Produit</th>
                                <th class="px-3 py-2 text-center text-xs font-bold text-gray-500 uppercase">Stock</th>
                                <th class="px-3 py-2 text-center text-xs font-bold text-gray-500 uppercase">Statut</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-2 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-6 h-6 bg-yellow-100 rounded-full mr-2 flex items-center justify-center">
                                            <span class="text-yellow-600 text-xs">AM</span>
                                        </div> 
                                        <div class="text-xs font-medium">Amoxicilline 500mg</div>
                                    </div>
                                </td>
                                <td class="px-3 py-2 whitespace-nowrap text-center text-xs font-bold">
                                    12
                                </td>
                                <td class="px-3 py-2 whitespace-nowrap text-center">
                                    <span class="px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full">Faible</span>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-2 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-6 h-6 bg-red-100 rounded-full mr-2 flex items-center justify-center">
                                            <span class="text-red-600 text-xs">IN</span>
                                        </div> 
                                        <div class="text-xs font-medium">Insuline Lantus</div>
                                    </div>
                                </td>
                                <td class="px-3 py-2 whitespace-nowrap text-center text-xs font-bold">
                                    3
                                </td>
                                <td class="px-3 py-2 whitespace-nowrap text-center">
                                    <span class="px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full">Critique</span>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-2 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-6 h-6 bg-yellow-100 rounded-full mr-2 flex items-center justify-center">
                                            <span class="text-yellow-600 text-xs">VA</span>
                                        </div> 
                                        <div class="text-xs font-medium">Ventoline Spray</div>
                                    </div>
                                </td>
                                <td class="px-3 py-2 whitespace-nowrap text-center text-xs font-bold">
                                    8
                                </td>
                                <td class="px-3 py-2 whitespace-nowrap text-center">
                                    <span class="px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full">Faible</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Nouveaux produits compact -->
            <div class="bg-white shadow-md rounded-xl p-4">
                <div class="flex justify-between items-center mb-3">
                    <div>
                        <h6 class="text-base font-semibold text-gray-900">Nouveaux Produits</h6>
                        <p class="text-xs text-gray-500">Produits en attente de publication</p>
                    </div>
                    <button class="px-3 py-1 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 flex items-center">
                        <i class="material-symbols-rounded text-sm mr-1">add_circle</i>
                        Ajouter
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                    <div class="border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow">
                        <div class="flex justify-between items-start mb-2">
                            <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                <span class="text-green-600 font-bold text-xs">NV</span>
                            </div>
                            <span class="px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full">Nouveau</span>
                        </div>
                        <h4 class="font-bold text-gray-800 text-sm mb-1">Vaccin Grippe</h4>
                        <p class="text-xs text-gray-600 mb-2">Vaccin antigrippal 2023</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-gray-500">Stock: 50</span>
                            <button class="text-green-600 hover:text-green-800 text-xs font-medium">Publier</button>
                        </div>
                    </div>
                    
                    <div class="border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow">
                        <div class="flex justify-between items-start mb-2">
                            <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                                <span class="text-purple-600 font-bold text-xs">VS</span>
                            </div>
                            <span class="px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full">Nouveau</span>
                        </div>
                        <h4 class="font-bold text-gray-800 text-sm mb-1">Vitamine D3</h4>
                        <p class="text-xs text-gray-600 mb-2">Complément alimentaire</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-gray-500">Stock: 75</span>
                            <button class="text-green-600 hover:text-green-800 text-xs font-medium">Publier</button>
                        </div>
                    </div>
                    
                    <div class="border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow">
                        <div class="flex justify-between items-start mb-2">
                            <div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center">
                                <span class="text-yellow-600 font-bold text-xs">CR</span>
                            </div>
                            <span class="px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full">Nouveau</span>
                        </div>
                        <h4 class="font-bold text-gray-800 text-sm mb-1">Crème Solaire</h4>
                        <p class="text-xs text-gray-600 mb-2">SPF50+ protection</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-gray-500">Stock: 40</span>
                            <button class="text-green-600 hover:text-green-800 text-xs font-medium">Publier</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script>
        const sidebar = document.getElementById('sidenav-main');
        const overlay = document.getElementById('sidebar-overlay');
        const toggleButton = document.getElementById('toggle-sidebar');
        const closeButton = document.getElementById('close-sidebar');

        // Ouvrir la sidebar
        toggleButton.addEventListener('click', () => {
            sidebar.classList.add('open');
            overlay.classList.add('open');
        });

        // Fermer la sidebar
        closeButton.addEventListener('click', () => {
            sidebar.classList.remove('open');
            overlay.classList.remove('open');
        });

        // Fermer la sidebar en cliquant sur l'overlay
        overlay.addEventListener('click', () => {
            sidebar.classList.remove('open');
            overlay.classList.remove('open');
        });

        // Fermer la sidebar si on redimensionne la fenêtre vers un grand écran
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 1024) {
                sidebar.classList.remove('open');
                overlay.classList.remove('open');
            }
        });
    </script>
</body>
</html>